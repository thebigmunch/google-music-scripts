# Change Log

Notable changes to this project based on the [Keep a Changelog](https://keepachangelog.com) format.
This project adheres to [Semantic Versioning](https://semver.org).


## [Unreleased](https://github.com/thebigmunch/google-music-scripts/tree/master)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.5.0...master)

### Changed

* Silence warnings from audio-metadata.
* Handle exceptions when loading audio metadata of downloaded songs.


## [4.5.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.5.0) (2020-05-01)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.4.0...4.5.0)

### Changed

* Catch exceptions from google_music.MusicManager.upload call.


## [4.4.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.4.0) (2020-04-08)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.3.0...4.4.0)

### Changed

* Update dependency versions.


## [4.3.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.3.0) (2020-03-05)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.2.1...4.3.0)

### Added

* Support for uploading Ogg Vorbis and Ogg Opus files.


## [4.2.1](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.2.1) (2020-02-23)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.2.0...4.2.1)

### Fixed

* Incorrect max verbosity check.
* Method name: ``song_delete`` -> ``songs_delete``.


## [4.2.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.2.0) (2019-11-07)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.1.1...4.2.0)

### Added

* Re-add download/upload progress messages at trace level.
* Ability to use 'today' and 'yesterday' in date filter options.

### Changed

* Failed action messages now require less
	verbosity than successful action messages.


## [4.1.1](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.1.1) (2019-07-22)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.1.0...4.1.1)

### Fixed

* Fix audio-metadata dependency version.


## [4.1.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.1.0) (2019-07-22)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.0.1...4.1.0)

### Added

* Logging options:
	* ``--log-to-stdout``
	* ``--no-log-to-stdout``
	* ``--no-log-to-file``

### Changed

* Output message verbosity hierarchy.
	There is now a more coherent, consistent strategy.
* Make logging to stdout and file independently configurable.


## [4.0.1](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.0.1) (2019-02-08)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/4.0.0...4.0.1)

### Fixed

* ``max_depth`` parameter to ``get_local_songs`` not functioning.


## [4.0.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/4.0.0) (2019-02-06)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/3.0.0...4.0.0)

### Added

* Sync functionality to ``download`` and ``upload`` commands.
* ``--use-audio-hash/--no-use-audio-hash`` option to
	``download`` and ``upload`` commands.
* ``--use-metadata/--no-use-metadata`` option to
	``download`` and ``upload`` commands.
* Options to exclude local filepaths in different ways:
	* ``-xp, --exclude-path``
	* ``-xr, --exclude-regex``
	* ``-xg, --exclude-glob``
* Options to filter songs by date for ``download`` and ``upload`` commands:
	* ``--created-in``
	* ``--created-on``
	* ``--created-before``
	* ``--created-after``
	* ``--modified-in``
	* ``--modified-on``
	* ``--modified-before``
	* ``--modified-after``
* ``--debug`` option to enable logging messages from dependencies.

### Changed

* Use argparse instead of click for CLI.
* Refactor ``download``, ``sync``, and ``upload`` commands.
	* Remove sync commands.
	* Add sync options to ``download`` and ``upload`` commands:
		* ``--use-audio-hash/--no-use-audio-hash`` to sync based on
		audio hash of file as generated by Google Music.
	* ``--use-metadata/--no-use-metadata`` to sync based on metadata.
* ``-l, --log`` option to ``--log-to-file``.

### Removed

* ``sync`` commands.


## [3.0.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/3.0.0) (2019-01-15)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/2.0.0...3.0.0)

### Added

* Option to specify external album art names/paths with upload commands.
* ``--no-sample`` option to ``gms upload`` and ``gms sync up``.
	This sends an empty audio sample instead of creating one with ffmpeg/avconv.
	If uploading MP3s, this option completely removes the ffmpeg/avconv requirement.
	Otherwise, this will save time/bandwidth by not creating nor sending a sample.

### Changed

* ``--filters`` long option to ``--filter``.

### Removed

* Transcoding options from upload commands.
	See [#9](https://github.com/thebigmunch/google-music-scripts/issues/9)
	for explanation.

### Fixed

* ``TypeError`` when sorting Google Music songs due to no defaults
	being set for ``get`` calls.


## [2.0.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/2.0.0) (2018-11-26)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/1.1.1...2.0.0)

### Added

* Configuration file.
* Ability to set option defaults in configuration file.

### Changed

* Filtering is now done through one option ``-f, --filters`` with different syntax and semantics.
	* ``+field[value]`` is the new syntax for an include filter condition.
	* ``-field[value]`` is the new syntax for an exclude filter condition.
	* Multiple filters can be set in one call. 
	* Multiple conditions can be chained in one filter.
	* Values can still be valid Python regex.
	* Matching is still done case-insensitively.

	E.g:
	* ``gms download -f 'artist[Beck]+album[Guero]-title[E-Pro]'``
		would download all songs by Beck from the album Guero without E-Pro in the title.
	* ``gms download -f 'artist[Beck]+album[Guero]-title[E-Pro]' -f 'artist[Daft Punk]'``
		would download all songs by Beck from the album Guero without E-Pro in the title
		as well as all songs by Daft Punk.

### Removed

* Legacy command entry points (gmupload, gmdownload, etc).
	Use the ``gms`` subcommands instead.


## [1.1.1](https://github.com/thebigmunch/google-music-scripts/releases/tag/1.1.1) (2018-11-13)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/1.1.0...1.1.1)

### Fixed

* Update required google-music version.


## [1.1.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/1.1.0) (2018-11-13)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/1.0.1...1.1.0)

### Fixed

* Fixed various issues related to porting code to new framework.

### Changed

* Refactored package structure.


## [1.0.1](https://github.com/thebigmunch/google-music-scripts/releases/tag/1.0.1) (2018-10-28)

[Commits](https://github.com/thebigmunch/google-music-scripts/compare/1.0.0...1.0.1)

### Fixed

* Fix incorrect order of variable assignment.


## [1.0.0](https://github.com/thebigmunch/google-music-scripts/releases/tag/1.0.0) (2018-10-19)

[Commits](https://github.com/thebigmunch/google-music-scripts/commit/e14718c875434922b451d0598da021c6617afdb0)

* Initial release.
